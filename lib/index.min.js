!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).EsUtil={})}(this,function(e){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var r=Object.prototype,u=r.hasOwnProperty,f=r.propertyIsEnumerable;function p(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return Object.create(null,l({},e,{value:r,writable:!0,enumerable:!1,configurable:!0}))}e.array2tree=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign({primaryKey:"id",parentKey:"pid",childrenKey:"children",createRoot:!1},r),n=t.primaryKey,o=t.parentKey,i=t.childrenKey,a=t.createRoot,y={},c=[];return Array.isArray(e)&&e.forEach(function(e){!u.call(y,e[n])&&(y[e[n]]=Object.assign(p(i),e)),u.call(y,e[o])&&y[e[o]][i].push(y[e[n]]),!e[o]&&c.push(y[e[n]])}),"function"==typeof a?a(c):a?l({},i,c):c},e.tree2array=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=[];if(!Array.isArray(e)&&"object"!==n(e))return i;var t=Object.assign({hasParentKey:!0,primaryKey:"id",parentKey:"pid",childrenKey:"children"},r),a=t.primaryKey,y=t.parentKey,c=t.childrenKey,u=t.hasParentKey;return function r(t,e,n){var o=u?{}:l({},y,e);n||(f.call(t,c)&&Object.defineProperty(t,c,{enumerable:!1}),i.push(Object.assign(o,t))),Array.isArray(t[c])&&t[c].length&&t[c].forEach(function(e){return r(e,t[a])})}(Array.isArray(e)?p(c,e):e,null,!0),i},Object.defineProperty(e,"__esModule",{value:!0})});
