!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).EsUtil={})}(this,function(e){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var r=Object.prototype,u=r.hasOwnProperty,l=r.propertyIsEnumerable;function p(e){return f({},e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:[])}e.array2tree=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign({primaryKey:"id",parentKey:"pid",childrenKey:"children",createRoot:!1},r),n=t.primaryKey,o=t.parentKey,i=t.childrenKey,y=t.createRoot,a={},c=[];return Array.isArray(e)&&e.forEach(function(e){!u.call(a,e[n])&&(a[e[n]]=Object.assign(p(i),e)),u.call(a,e[o])&&a[e[o]][i].push(a[e[n]]),!e[o]&&c.push(a[e[n]])}),"function"==typeof y?y(c):y?f({},i,c):c},e.tree2array=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=[];if(!Array.isArray(e)&&"object"!==n(e))return i;var t=Object.assign({hasParentKey:!0,primaryKey:"id",parentKey:"pid",childrenKey:"children"},r),y=t.primaryKey,a=t.parentKey,c=t.childrenKey,u=t.hasParentKey;return function r(t,e,n){var o=u?{}:f({},a,e);n||(l.call(t,c)&&Object.defineProperty(t,c,{enumerable:!1}),i.push(Object.assign(o,t))),Array.isArray(t[c])&&t[c].length&&t[c].forEach(function(e){return r(e,t[y])})}(Array.isArray(e)?p(c,e):e,null,!0),i},Object.defineProperty(e,"__esModule",{value:!0})});
